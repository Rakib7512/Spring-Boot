<div class="container mt-4">
  <h2 class="mb-4 text-center">üì¶ View All Parcels</h2>

  <!-- Loading Spinner -->
  <div *ngIf="loading" class="text-center my-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p>Loading parcels...</p>
  </div>

  <!-- Show No Parcels Found -->
  <div *ngIf="!loading && parcels.length === 0" class="alert alert-info text-center">
    No parcels found.
  </div>

  <!-- Card View -->
  <div class="row" *ngIf="!loading && parcels.length > 0">
    <div class="col-md-4 mb-4" *ngFor="let parcel of parcels">
      <div class="card shadow-sm border-primary">
        <div class="card-body">
          <h5 class="card-title">Tracking ID: {{ parcel.trackingId }}</h5>
          <p><strong>Sender:</strong> {{ parcel.senderName }}</p>
          <p><strong>Receiver:</strong> {{ parcel.receiverName }}</p>
          <p><strong>Size:</strong> {{ parcel.size }}</p>
          <p><strong>Fee:</strong> {{ parcel.fee }} ‡ß≥</p>

          <div class="d-flex justify-content-between mt-3">
            <button class="btn btn-sm btn-info" data-bs-toggle="modal" data-bs-target="#parcelDetailsModal"
              (click)="viewParcel(parcel)">üëÅ View</button>

            <button class="btn btn-sm btn-warning" (click)="updateParcel(parcel.id)">‚úè Update</button>

            <button class="btn btn-sm btn-danger" (click)="deleteParcel(parcel.id)">üóë Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Parcel Details Modal -->
<div class="modal fade" id="parcelDetailsModal" tabindex="-1" aria-labelledby="parcelDetailsModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" *ngIf="selectedParcel">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="parcelDetailsModalLabel">üì¶ Parcel Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p><strong>Tracking ID:</strong> {{ selectedParcel.trackingId }}</p>
        <p><strong>Sender Name:</strong> {{ selectedParcel.senderName }}</p>
        <p><strong>Sender Phone:</strong> {{ selectedParcel.senderPhone }}</p>
        <p><strong>Receiver Name:</strong> {{ selectedParcel.receiverName }}</p>
        <p><strong>Receiver Phone:</strong> {{ selectedParcel.receiverPhone }}</p>
        <p><strong>Size:</strong> {{ selectedParcel.size }}</p>
        <p><strong>Fee:</strong> {{ selectedParcel.fee }} ‡ß≥</p>
        <p><strong>Country*********</strong> {{ selectedParcel.sendCountry }}</p>
        <p><strong>Sender Address:</strong> {{ selectedParcel.addressLineForSender1 }},
          {{ selectedParcel.addressLineForSender2 }}</p>
        <p><strong>Receiver Address:</strong> {{ selectedParcel.addressLineForReceiver1 }},
          {{ selectedParcel.addressLineForReceiver2 }}</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>