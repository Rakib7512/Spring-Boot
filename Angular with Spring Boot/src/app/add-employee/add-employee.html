<div class="container mt-4">
  <h2 class="text-center mb-4">üë®‚Äçüíº Add New Employee</h2>

  <!-- Success / Error Message -->
  <div *ngIf="message" class="alert" [ngClass]="{
    'alert-success': message.startsWith('Success'),
    'alert-danger': message.startsWith('Fail')
  }">
    {{ message }}
  </div>

  <form [formGroup]="registrationForm" (ngSubmit)="ngOnInit()" enctype="multipart/form-data" novalidate>
    <div class="row">
      <!-- Name -->
      <div class="col-md-6 mb-3">
        <label for="name" class="form-label">Full Name</label>
        <input type="text" formControlName="name" class="form-control" placeholder="Enter employee name" />
        <div class="text-danger" *ngIf="registrationForm.get('name')?.touched && registrationForm.get('name')?.invalid">
          Name is required.
        </div>
      </div>

      <!-- Email -->
      <div class="col-md-6 mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" formControlName="email" class="form-control" placeholder="Enter employee email" />
        <div class="text-danger" *ngIf="registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid">
          Valid email is required.
        </div>
      </div>

      <!-- Phone -->
      <div class="col-md-6 mb-3">
        <label for="phone" class="form-label">Phone Number</label>
        <input type="text" formControlName="phone" class="form-control" placeholder="Enter phone number" />
        <div class="text-danger" *ngIf="registrationForm.get('phone')?.touched && registrationForm.get('phone')?.invalid">
          Phone number is required.
        </div>
      </div>

      <!-- Password -->
      <div class="col-md-6 mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" formControlName="password" class="form-control" placeholder="Enter password" />
        <div class="text-danger" *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid">
          Password is required.
        </div>
      </div>

      <!-- Gender -->
      <div class="col-md-6 mb-3">
        <label for="gender" class="form-label">Gender</label>
        <select formControlName="gender" class="form-select">
          <option value="">Select Gender</option>
          <option value="MALE">Male</option>
          <option value="FEMALE">Female</option>
        </select>
        <div class="text-danger" *ngIf="registrationForm.get('gender')?.touched && registrationForm.get('gender')?.invalid">
          Gender is required.
        </div>
      </div>

      <!-- NID -->
      <div class="col-md-6 mb-3">
        <label for="nid" class="form-label">NID Number</label>
        <input type="text" formControlName="nid" class="form-control" placeholder="Enter NID number" />
        <div class="text-danger" *ngIf="registrationForm.get('nid')?.touched && registrationForm.get('nid')?.invalid">
          NID number is required.
        </div>
      </div>

      <!-- Address -->
      <div class="col-md-12 mb-3">
        <label for="address" class="form-label">Address</label>
        <textarea formControlName="address" class="form-control" rows="2" placeholder="Enter full address"></textarea>
        <div class="text-danger" *ngIf="registrationForm.get('address')?.touched && registrationForm.get('address')?.invalid">
          Address is required.
        </div>
      </div>

      <!-- Designation -->
      <div class="col-md-6 mb-3">
        <label for="designation" class="form-label">Designation</label>
        <input type="text" formControlName="designation" class="form-control" placeholder="Enter designation" />
        <div class="text-danger" *ngIf="registrationForm.get('designation')?.touched && registrationForm.get('designation')?.invalid">
          Designation is required.
        </div>
      </div>

      <!-- Join Date -->
      <div class="col-md-6 mb-3">
        <label for="joindate" class="form-label">Join Date</label>
        <input type="date" formControlName="joindate" class="form-control" />
        <div class="text-danger" *ngIf="registrationForm.get('joindate')?.touched && registrationForm.get('joindate')?.invalid">
          Join date is required.
        </div>
      </div>

      <!-- Hub -->
      <div class="col-md-6 mb-3">
        <label for="empOnHub" class="form-label">Assign Hub</label>
        <input type="text" formControlName="empOnHub" class="form-control" placeholder="Enter hub name" />
        <div class="text-danger" *ngIf="registrationForm.get('empOnHub')?.touched && registrationForm.get('empOnHub')?.invalid">
          Hub is required.
        </div>
      </div>

      <!-- Country -->
      <div class="col-md-6 mb-3">
        <label for="country" class="form-label">Country</label>
        <select formControlName="country" class="form-select" [(ngModel)]="selectedCountry" (change)="onCountryChange()">
          <option value="">Select Country</option>
          <option *ngFor="let c of countries" [value]="c.id">{{ c.name }}</option>
        </select>
        <div class="text-danger" *ngIf="registrationForm.get('country')?.touched && registrationForm.get('country')?.invalid">
          Country is required.
        </div>
      </div>

      <!-- Division -->
      <div class="col-md-6 mb-3">
        <label for="division" class="form-label">Division</label>
        <select formControlName="division" class="form-select" [(ngModel)]="selectedDivision" (change)="onDivisionChange()">
          <option value="">Select Division</option>
          <option *ngFor="let d of divisions" [value]="d.id">{{ d.name }}</option>
        </select>
        <div class="text-danger" *ngIf="registrationForm.get('division')?.touched && registrationForm.get('division')?.invalid">
          Division is required.
        </div>
      </div>

      <!-- District -->
      <div class="col-md-6 mb-3">
        <label for="district" class="form-label">District</label>
        <select formControlName="district" class="form-select" [(ngModel)]="selectedDistrict" (change)="onSendDistrictChange()">
          <option value="">Select District</option>
          <option *ngFor="let d of districts" [value]="d.id">{{ d.name }}</option>
        </select>
        <div class="text-danger" *ngIf="registrationForm.get('district')?.touched && registrationForm.get('district')?.invalid">
          District is required.
        </div>
      </div>

      <!-- Police Station -->
      <div class="col-md-6 mb-3">
        <label for="policeStation" class="form-label">Police Station</label>
        <select formControlName="policeStation" class="form-select" [(ngModel)]="selectedPoliceStation">
          <option value="">Select Police Station</option>
          <option *ngFor="let ps of policeStations" [value]="ps.id">{{ ps.name }}</option>
        </select>
        <div class="text-danger" *ngIf="registrationForm.get('policeStation')?.touched && registrationForm.get('policeStation')?.invalid">
          Police Station is required.
        </div>
      </div>

      <!-- Photo Upload -->
      <div class="col-md-12 mb-3">
        <label for="photo" class="form-label">Upload Photo</label>
        <input type="file" class="form-control" (change)="onPhotoSelected($event)" accept="image/*" />
      </div>

      <!-- Submit Button -->
      <div class="col-md-12 text-center">
        <button class="btn btn-primary" type="submit" [disabled]="registrationForm.invalid">
          <i class="bi bi-person-plus"></i> Add Employee
        </button>
      </div>
    </div>
  </form>
</div>
