<div class="container mt-5">
  <h2 class="text-center mb-4 fw-bold text-primary">ðŸ“¦ Parcel List</h2>

  <!-- Search Panel -->
  <div class="row mb-4">
    <div class="col-md-6 mx-auto">
      <div class="input-group shadow-sm rounded-pill overflow-hidden">
        <input
          type="text"
          class="form-control border-0 px-4"
          placeholder="Enter Tracking ID..."
          [(ngModel)]="trackingId"
          aria-label="Search by Tracking ID"
        />
        <button
          class="btn btn-primary d-flex align-items-center gap-2 px-4"
          (click)="searchParcel()"
          aria-label="Search Parcel"
        >
          <i class="fas fa-search"></i> Search
        </button>
      </div>
    </div>
  </div>

  <!-- Table -->
  <div *ngIf="parcels.length > 0; else noData" class="table-responsive shadow-sm rounded-3">
    <table class="table table-bordered table-striped table-hover mb-0">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Tracking ID</th>
          <th>Sender</th>
          <th>Receiver</th>
          <th>Send Location</th>
          <th>Receive Location</th>
          <th>Fee</th>
          <th>Delivery Man</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of parcels">
          <td>{{ p.id }}</td>
          <td>{{ p.trackingId }}</td>
          <td>
            {{ p.senderName }} <br />
            <small class="text-muted">{{ p.senderPhone }}</small>
          </td>
          <td>
            {{ p.receiverName }} <br />
            <small class="text-muted">{{ p.receiverPhone }}</small>
          </td>
          <td>
            {{ p.sendCountry?.name }}, {{ p.sendDivision?.name }},
            {{ p.sendDistrict?.name }}, {{ p.sendPoliceStation?.name }}
          </td>
          <td>
            {{ p.receiveCountry?.name }}, {{ p.receiveDivision?.name }},
            {{ p.receiveDistrict?.name }}, {{ p.receivePoliceStation?.name }}
          </td>
          <td>{{ p.fee | currency:'BDT':'symbol' }}</td>
          <td>{{ p.deliveryManId?.name }}</td>
          <td>
            <span class="badge rounded-pill bg-primary px-3 py-2">{{ p.status }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- No Data Message -->
  <ng-template #noData>
    <p class="text-center text-danger fs-5 mt-4">No Parcel Found</p>
  </ng-template>
</div>
