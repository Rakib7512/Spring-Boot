<div class="container">
  <h2 class="mb-4 text-center text-primary">Transfer Parcel</h2>

  <form [formGroup]="transferForm" (ngSubmit)="onSubmit()">
    <!-- Tracking ID -->
    <div class="form-group mb-3">
      <label for="trackingId" class="font-weight-bold">Tracking ID:</label>
      <input
        id="trackingId"
        type="text"
        class="form-control"
        formControlName="trackingId"
        placeholder="Enter Tracking ID"
        (blur)="onTrackingIdChange()"
      />
      <div *ngIf="transferForm.get('trackingId')?.touched && transferForm.get('trackingId')?.invalid" class="text-danger mt-1">
        Tracking ID is required.
      </div>
    </div>

    <!-- From Hub -->
    <div class="form-group mb-3">
      <label for="previousHub" class="font-weight-bold">From Hub:</label>
      <input id="previousHub" type="text" class="form-control" formControlName="previousHub" readonly />
    </div>

    <!-- Current Hub -->
    <div class="form-group mb-3">
      <label for="currentHub" class="font-weight-bold">Current Hub:</label>
      <input id="currentHub" type="text" class="form-control" formControlName="currentHub" readonly />
    </div>

    <!-- To Hub -->
    <div class="form-group mb-3">
      <label for="toHub" class="font-weight-bold">To Hub:</label>
      <select id="toHub" class="form-control" formControlName="toHub">
        <option value="">Select Target Hub</option>
        <option *ngFor="let hub of allHub" [value]="hub.id">{{ hub.name }}</option>
      </select>
      <div *ngIf="transferForm.get('toHub')?.touched && transferForm.get('toHub')?.invalid" class="text-danger mt-1">
        Please select a target hub.
      </div>
    </div>

    <!-- Parcel Status -->
    <div class="form-group mb-3">
      <label for="status" class="font-weight-bold">Parcel Status:</label>
      <select id="status" class="form-control" formControlName="status">
        <option value="">Select Parcel Status</option>
        <option *ngFor="let s of parcelStatuses" [value]="s">{{ s }}</option>
      </select>
      <div *ngIf="transferForm.get('status')?.touched && transferForm.get('status')?.invalid" class="text-danger mt-1">
        Please select a status.
      </div>
    </div>

    <!-- Employee ID -->
    <div class="form-group mb-3">
      <label for="employeeId" class="font-weight-bold">Employee ID:</label>
      <input
        id="employeeId"
        type="number"
        class="form-control"
        formControlName="employeeId"
        placeholder="Enter Employee ID"
      />
      <div *ngIf="transferForm.get('employeeId')?.touched && transferForm.get('employeeId')?.invalid" class="text-danger mt-1">
        Valid Employee ID is required.
      </div>
    </div>

    <!-- Submit Button -->
    <div class="text-center">
      <button type="submit" class="btn btn-primary px-4" [disabled]="transferForm.invalid">
        Transfer
      </button>
    </div>
  </form>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="alert alert-success mt-3 text-center">{{ successMessage }}</div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-center">{{ errorMessage }}</div>
</div>
