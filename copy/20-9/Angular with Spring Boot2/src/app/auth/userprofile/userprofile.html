<div class="container my-5">

  <!-- Welcome Section -->
  <div class="text-center mb-5">
    <span class="badge bg-primary bg-gradient px-4 py-2 fs-6 shadow-sm rounded-pill">
      <i class="bi bi-speedometer2 me-1"></i> Dashboard
    </span>

    <h1 class="display-4 fw-bold mt-3 text-primary">
      Welcome Back, {{ profile.name }}
    </h1>

    <p class="text-muted fs-5">
      Your personalized dashboard overview with real-time updates and insights.
    </p>

    <div class="mt-4">
      <img src="assets/dashboard-illustration.svg" class="img-fluid rounded-4 shadow" alt="Dashboard Illustration" />
    </div>
  </div>

  <!-- Profile & Parcel Dashboard -->
  <div class="card shadow-lg border-0 rounded-4 overflow-hidden bg-light bg-opacity-75">

    <!-- Profile Header -->
    <div class="bg-primary position-relative text-white text-center py-5 rounded-top-4">
      <img [src]="imageBaseUrl + profile.photo"
           class="rounded-circle border border-4 border-white shadow-lg hover-scale"
           alt="Profile Picture" width="140" height="140" />
      <h3 class="mt-3 fw-bold">{{ profile.name }}</h3>
      <div class="mt-2">
        <span class="badge bg-light text-primary px-3 py-2 shadow-sm fw-semibold">
          {{ profile.user?.role || 'User' }}
        </span>
      </div>
      <!-- Gradient Overlay -->
      <span class="position-absolute top-0 start-0 w-100 h-100 bg-gradient rounded-top-4 opacity-25"></span>
    </div>

    <!-- Profile Info -->
    <div class="p-4">
      <h5 class="fw-bold text-dark mb-4">
        <i class="bi bi-person-badge-fill text-primary me-2"></i> Profile Information
      </h5>

      <div class="row g-3">
        <div class="col-md-6" *ngFor="let info of [
          { icon: 'bi-envelope-fill', label: 'Email', value: profile.email, color: 'text-primary' },
          { icon: 'bi-telephone-fill', label: 'Phone', value: profile.phone, color: 'text-success' },
          { icon: 'bi-credit-card-2-front-fill', label: 'NID', value: profile.nid, color: 'text-warning' },
          { icon: 'bi-geo-alt-fill', label: 'Address', value: profile.address, color: 'text-danger' }
        ]">
          <div class="d-flex align-items-start bg-white shadow-sm p-3 rounded-4 h-100 hover-shadow">
            <i class="bi {{ info.icon }} fs-4 me-3 {{ info.color }}"></i>
            <div>
              <div class="fw-semibold">{{ info.label }}</div>
              <div class="text-muted small">{{ info.value }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Divider -->
    <hr class="my-0" />

    <!-- Parcel History -->
    <div class="p-4">
      <div class="d-flex align-items-center mb-3">
        <i class="bi bi-box-seam-fill me-2 fs-5 text-dark"></i>
        <h5 class="m-0 fw-semibold">Parcel History</h5>
      </div>

      <div class="table-responsive">
        <table class="table align-middle text-center shadow-sm table-hover"
               *ngIf="parcels.length > 0; else noParcels">
          <thead class="bg-gradient text-white" style="background: linear-gradient(90deg, #0d6efd, #6610f2);">
            <tr>
              <th>Tracking ID</th>
              <th>Sender</th>
              <th>Receiver</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let parcel of parcels">
              <td class="fw-bold text-dark">{{ parcel.trackingId }}</td>
              <td>{{ parcel.sendCountry.name }}</td>
              <td>{{ parcel.receiveCountry.name || 'N/A' }}</td>
              <td>
                <span class=" rounded-pill px-3 py-2 fw-semibold text-dark"
                      [ngClass]="{
                        'bg-success': parcel.status === 'Delivered',
                        'bg-info text-dark': parcel.status === 'In Transit',
                        'bg-warning text-dark': parcel.status === 'Pending',
                        'bg-danger': parcel.status === 'Delayed'
                      }">
                  {{ parcel.status }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Fallback -->
      <ng-template #noParcels>
        <div class="alert alert-info text-center mt-4 rounded-3 shadow-sm">
          <i class="bi bi-inbox me-2"></i> No parcel history found.
        </div>
      </ng-template>
    </div>
  </div>
</div>
