<div class="container mt-4">
  <h3>Hub Transfer</h3>

  <form (ngSubmit)="submitTransfer()">
    <!-- Parcel ID Input -->
    <div class="form-group">
      <label>Parcel ID</label>
      <input type="text" class="form-control" [(ngModel)]="transfer.parcelId" name="id"
        (change)="onChange(transfer.parcelId)" required />
    </div>

    <!-- From Hub (auto-filled, read-only) -->
    <div class="form-group">
      <label>From Hub</label>
      <input type="text" class="form-control" [(ngModel)]="transfer.fromHub" name="fromHub" readonly />
    </div>

    <!-- To Hub -->
    <div class="form-group">
      <label>To Hub</label>
      <select class="form-control" [(ngModel)]="transfer.toHub" name="toHub" required>
        <option value="" disabled selected>Select a hub</option>
        <option *ngFor="let hub of hubs" [value]="hub.hubName">{{ hub.hubName }}</option>
      </select>
    </div>

    <!-- Courier By -->
    <div class="form-group">
      <label>Courier By</label>
      <input type="text" class="form-control" [(ngModel)]="transfer.courierBy" name="courierBy" required />
    </div>

    <!-- Current Hub (auto-set as To Hub) -->
    <div class="form-group">
      <label>Current Hub (New)</label>
      <input type="text" class="form-control" [(ngModel)]="transfer.currentHub" name="currentHub"
        [value]="transfer.toHub" readonly />
    </div>

    <button type="submit" class="btn btn-primary mt-3">Transfer</button>
  </form>

  <!-- Latest Transfer Info -->
  <div *ngIf="latestHubTransfer" class="mt-4">
    <h5>Latest Transfer Info:</h5>
    <p><strong>Current Hub:</strong> {{ latestHubTransfer.currentHub }}</p>
    <p><strong>Departed At:</strong> {{ latestHubTransfer.departedAt | date: 'short' }}</p>
    <p><strong>Courier:</strong> {{ latestHubTransfer.courierBy }}</p>
  </div>
</div>