<div class="container my-5">

  <!-- Cover Photo Section -->
  <div class="profile-cover position-relative rounded-4 shadow-sm overflow-hidden">
    <img src="assets/images/5911010.jpg" alt="Cover Photo" class="w-100 cover-photo" />
  </div>

  <!-- Profile Photo and Title Section -->
  <div class="text-center mt-n10 position-relative z-10">
  

    <!-- Profile Picture -->
    <img [src]="imageBaseUrl + profile.photo" 
         alt="Profile Picture" 
         class="profile-picture rounded-circle border border-white shadow-lg d-block mx-auto mb-3" />

    <!-- User Name -->
    <h2 class="fw-bold">{{ profile.name }}</h2>
     <!-- User Role / Title -->
    <span class="badge bg-primary text-white text-uppercase fw-semibold px-4 py-2 shadow-sm rounded-pill mb-3 d-inline-block">
      {{ profile.user?.role || 'Consumer' }}
    </span>
  </div>

  <!-- Profile Info Cards -->
  <div class="row mt-4 gx-4">

    <!-- Left Column: About Me -->
    <div class="col-lg-4 mb-4">
      <div class="card shadow-sm rounded-4 p-4 h-100">
        <h5 class="fw-bold mb-3">About</h5>
        <ul class="list-unstyled fs-6">
          <li class="mb-3 d-flex align-items-center">
            <i class="bi bi-envelope-fill text-primary me-3 fs-4"></i>
            <span>{{ profile.email }}</span>
          </li>
          <li class="mb-3 d-flex align-items-center">
            <i class="bi bi-telephone-fill text-success me-3 fs-4"></i>
            <span>{{ profile.phone }}</span>
          </li>
          <li class="mb-3 d-flex align-items-center">
            <i class="bi bi-credit-card-2-front-fill text-warning me-3 fs-4"></i>
            <span>NID: {{ profile.nid }}</span>
          </li>
          <li class="d-flex align-items-center">
            <i class="bi bi-geo-alt-fill text-danger me-3 fs-4"></i>
            <span>{{ profile.address }}</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Right Column: Parcel History -->
    <div class="col-lg-8">
      <div class="card shadow-sm rounded-4 p-4 h-100">
        <h5 class="fw-bold mb-4 d-flex align-items-center">
          <i class="bi bi-box-seam-fill me-2 fs-4 text-primary"></i> Parcel History
        </h5>

        <div class="table-responsive rounded-3">
          <table class="table table-hover align-middle text-center mb-0">
            <thead class="bg-primary text-white rounded-top-4">
              <tr>
                <th>Tracking ID</th>
                <th>Sender</th>
                <th>Receiver</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody *ngIf="parcels.length > 0; else noParcels">
              <tr *ngFor="let parcel of parcels">
                <td class="fw-semibold">{{ parcel.trackingId }}</td>
                <td>{{ parcel.sendCountry.name }}</td>
                <td>{{ parcel.receiveCountry.name || 'N/A' }}</td>
                <td>
                  <span class=" px-3 py-2 fw-semibold"
                        [ngClass]="{
                          'bg-success text-white': parcel.status === 'Delivered',
                          'bg-info text-dark': parcel.status === 'In Transit',
                          'bg-warning text-dark': parcel.status === 'Pending',
                          'bg-danger text-white': parcel.status === 'Delayed'
                        }">
                    {{ parcel.status }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <ng-template #noParcels>
          <div class="alert alert-info text-center rounded-4 mt-4 shadow-sm fs-6">
            <i class="bi bi-inbox me-2"></i> No parcel history found.
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>

<style>
  .profile-cover {
    height: 280px;
    background-color: #e9ecef;
    overflow: hidden;
    border-radius: 1rem;
  }

  .cover-photo {
    object-fit: cover;
    height: 100%;
    width: 100%;
  }

  /* Positioning the profile picture overlapping the cover photo */
  .profile-picture {
    width: 160px;
    height: 160px;
    border-width: 6px !important;
    background-color: white;
    transition: transform 0.3s ease;
  }
  .profile-picture:hover {
    transform: scale(1.1);
    cursor: pointer;
  }

  /* Pull profile section upward to overlap cover photo */
  .mt-n10 {
    margin-top: -5rem !important;
  }
</style>
